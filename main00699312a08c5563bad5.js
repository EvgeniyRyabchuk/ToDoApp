(()=>{"use strict";var e,t={156:(e,t,l)=>{l(638),l(723);class s{static cur_focus_list;static lists=[];static addList(e){0==s.lists.length&&(s.cur_focus_list=e.id,e.elem.disabled=!0),s.lists.push(e)}static getCurList(){for(let e of s.lists)if(e.id==s.cur_focus_list)return e}static getCurListByIndex(){for(let e of s.lists)if(e.id==s.cur_focus_list)return e}static getEntryById(e){const t=this.getCurList();for(let l of t.entryList)if(l.id==e)return l}static getListById(e){for(let t of s.lists)if(t.id==e)return t}static deleteCurList(){for(let e=0;e<this.lists.length;e++)this.lists[e].id==s.cur_focus_list&&this.lists.splice(e,1)}static deleteList(e){for(let t=0;t<this.lists.length;t++)this.lists[t].id==e&&this.lists.splice(t,1)}static deleteAll(){s.lists=[]}}const i=s;class r{static maxId=0;constructor(e){this.id="list_"+r.maxId++,this.title=e,this.entryList=[],this.elem=this.createElement()}createElement(){let e=document.createElement("button");return e.id=this.id,e.className="btn btn-primary border-1 border-dark",e.textContent=this.title,e}addEntry(e){this.entryList.push(e)}deleteEntry(e){for(let t=0;t<this.entryList.length;t++)this.entryList[t].id==e&&this.entryList.splice(t,1)}}const n=r;class c{static maxId=0;constructor(e,t=!1){this.id="entry_"+c.maxId++,this.text=e,this.isChecked=t,this.elem=this.createElement()}createElement(){let e=document.querySelector("#cb_pattern").cloneNode(!0);return e.removeAttribute("id"),e.querySelector("input").id=this.id,e.querySelector("input").checked=this.isChecked,e.querySelector("label").dataset.for=this.id,e.querySelector("label").textContent=this.text,e.querySelector(".check-namer").dataset.for=this.id,e.querySelector(".check-delete-img").dataset.for=this.id,console.log(e.querySelector("label")),e}}const o=c;function d(e,t){let l=document.getElementById("alert-collection").querySelector(`.${e}`);l.setAttribute("style","display: flex !important"),l.querySelector(".alert-text").textContent=t,setTimeout((()=>{$(l).fadeOut(1e3)}),3e3)}function a(){let e=i.getCurList().entryList,t=document.querySelector("#field");t.innerHTML="";for(let l of e)t.append(l.elem);document.getElementById(i.cur_focus_list).click()}function u(){let e=document.createElement("div");e.className="empty-field-pl-hold";let t=document.createElement("span");return t.className="ph-msg",t.innerText="Добавте или выберете список",e.append(t),e}function m(e){console.log("event");let t=e.target;e.currentTarget;if(console.log(t),"form-check-label"==t.className){const e=t.dataset.for;let l=i.getEntryById(e),s=document.querySelector(`input[data-for="${e}"]`);s.value=l.text,s.dataset.for=e,s.style.display="block",s.focus()}if("form-check-input"==t.className){i.getEntryById(t.getAttribute("id")).isChecked=t.checked,console.dir(i)}}function f(e){if(console.log("lksjdgflsjldfjg"),"check-delete-img"==e.target.className){let t=e.target.dataset.for;i.getCurList().deleteEntry(t);let l=e.target.closest(".form-check");console.log(l),l.remove()}}function y(e){const t=e.target.value,l=e.target.dataset.for;i.getEntryById(l).text=t,document.querySelector(`label[data-for="${l}"]`).textContent=t,e.target.style.display="none"}!function(){console.dir(JSON.parse(localStorage.getItem("lastSave")));const e=JSON.parse(localStorage.getItem("lastSave"));if(e)for(let t of e){let e=new n(t.title);e.id=t.id,e.elem=e.createElement();for(let l of t.entryList){let t=new o(l.text,l.isChecked);t.id=l.id,t.elem=t.createElement(),t.elem.addEventListener("dblclick",m),t.elem.addEventListener("click",f),t.elem.querySelector(".check-namer").addEventListener("blur",y),e.addEntry(t)}i.addList(e),e.elem.disabled=!1,document.getElementById("menu").append(e.elem)}}(),document.getElementById("menu").addEventListener("click",(e=>{let t=e.target;if(console.log(t.tagName),"BUTTON"==t.tagName){if(console.log(i.cur_focus_list),-1!=i.cur_focus_list&&null!=i.cur_focus_list){console.log(i.cur_focus_list),document.querySelector(`#${i.cur_focus_list}`).disabled=!1}i.cur_focus_list=t.id,t.disabled=!0,a(),document.querySelector(".empty-field-pl-hold").style.display="none"}})),document.querySelector('button[data-bs-target="#addListModal"]').addEventListener("click",(()=>{document.querySelector("#title-list-text").placeholder=`New List ${i.lists.length+1}`})),document.getElementById("addList_btn").addEventListener("click",(e=>{let t=document.querySelector("#title-list-text").value;t=0==t.length?`New List ${i.lists.length+1}`:t,console.log(t);let l=new n(t);i.addList(l),document.querySelector("#menu").append(l.elem),document.querySelector(".empty-field-pl-hold").style.display="none"})),document.getElementById("addEntry_btn").addEventListener("click",(e=>{let t=new o("some text",!0);i.getCurList().addEntry(t),console.log(t.elem),t.elem.addEventListener("dblclick",m),t.elem.addEventListener("click",f),t.elem.querySelector(".check-namer").addEventListener("blur",y),document.querySelector("#field").append(t.elem)})),document.getElementById("save_btn").addEventListener("click",(e=>{localStorage.setItem("lastSave",JSON.stringify(i.lists)),localStorage.setItem("lastFocus",i.cur_focus_list),d("alert-success","Данные были сохранены")})),document.getElementById("deleteList_btn").addEventListener("click",(e=>{if(confirm(`Вы  действительнохотите удалить список: ${i.cur_focus_list}`)){const e=i.getCurList(),t=i.lists.indexOf(e);if(i.deleteCurList(),document.getElementById(e.id).remove(),i.cur_focus_list=-1,0==i.lists.length){let e=document.getElementById("field");e.innerHTML="",e.append(u())}else t<i.lists.length-1?i.cur_focus_list=i.lists[t].id:i.cur_focus_list=i.lists[t-1].id,console.log(i.cur_focus_list),a();d("alert-danger",`Вы удалили список ${e.title}`)}})),document.getElementById("deleteAll_btn").addEventListener("click",(e=>{document.getElementById("field").innerHTML="",document.getElementById("menu").innerHTML="",localStorage.clear(),i.deleteAll(),field.append(u()),d("alert-danger","Все данные были удалены")}))}},l={};function s(e){var i=l[e];if(void 0!==i)return i.exports;var r=l[e]={exports:{}};return t[e].call(r.exports,r,r.exports,s),r.exports}s.m=t,e=[],s.O=(t,l,i,r)=>{if(!l){var n=1/0;for(d=0;d<e.length;d++){for(var[l,i,r]=e[d],c=!0,o=0;o<l.length;o++)(!1&r||n>=r)&&Object.keys(s.O).every((e=>s.O[e](l[o])))?l.splice(o--,1):(c=!1,r<n&&(n=r));c&&(e.splice(d--,1),t=i())}return t}r=r||0;for(var d=e.length;d>0&&e[d-1][2]>r;d--)e[d]=e[d-1];e[d]=[l,i,r]},s.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={179:0};s.O.j=t=>0===e[t];var t=(t,l)=>{var i,r,[n,c,o]=l,d=0;for(i in c)s.o(c,i)&&(s.m[i]=c[i]);if(o)var a=o(s);for(t&&t(l);d<n.length;d++)r=n[d],s.o(e,r)&&e[r]&&e[r][0](),e[n[d]]=0;return s.O(a)},l=self.webpackChunk=self.webpackChunk||[];l.forEach(t.bind(null,0)),l.push=t.bind(null,l.push.bind(l))})();var i=s.O(void 0,[217],(()=>s(156)));i=s.O(i)})();